- name: Install packages docker and docker-compose
  ansible.builtin.include_role:
    name: install_packages
  vars:
    install_packages_packages:
      - docker
      - docker-compose
      - python-requests

- name: Create docker-compose root directory
  ansible.builtin.file:
    path: "{{ dockers_path }}"
    owner: root
    group: docker
    mode: "0775"
    state: directory

- name: Create docker-compose symlink in home
  ansible.builtin.file:
    src: "{{ dockers_path }}"
    dest: "~/docker-compose"
    state: link

- name: Start and enable docker
  ansible.builtin.service:
    name: docker
    enabled: true
    state: started

- name: Create a network
  community.docker.docker_network:
    name: web
